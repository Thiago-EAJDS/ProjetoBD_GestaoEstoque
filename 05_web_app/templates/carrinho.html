<!DOCTYPE html>
<html>
  <head>
    <title>Carrinho de Compras</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/carrinho.css') }}"
    />
  </head>
  <body>
    <div class="navbar">
      <h1>ğŸ›’ Meu Carrinho</h1>
    </div>
    <div class="container">
      {% if carrinho %}
      <table>
        <thead>
          <tr>
            <th>Produto</th>
            <th>PreÃ§o</th>
            <th>Quantidade</th>
            <th>Subtotal</th>
            <th>AÃ§Ã£o</th>
          </tr>
        </thead>
        <tbody>
          {% for item in carrinho %}
          <tr id="item-{{ item.id }}">
            <td>{{ item.nome }}</td>
            <td>R$ {{ "%.2f"|format(item.preco) }}</td>
            <td>{{ item.quantidade }}</td>
            <td>R$ {{ "%.2f"|format(item.preco * item.quantidade) }}</td>
            <td>
              <button
                class="btn-remover"
                onclick="remover('{{ item.id }}', '{{ item.nome }}')"
              >
                Remover
              </button>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      <div class="total">Total: R$ {{ "%.2f"|format(total) }}</div>
      <div style="text-align: center">
        <button class="btn btn-finalizar" onclick="finalizar()">
          âœ… Finalizar Compra
        </button>
        <button class="btn btn-limpar" onclick="limpar()">
          ğŸ—‘ï¸ Limpar Carrinho
        </button>
        <a href="/cliente"
          ><button class="btn btn-continuar">ğŸ›ï¸ Continuar Comprando</button></a
        >
      </div>
      {% else %}
      <p style="text-align: center; padding: 40px; color: #666">
        Seu carrinho estÃ¡ vazio
      </p>
      <div style="text-align: center">
        <a href="/cliente"
          ><button class="btn btn-continuar">ğŸ›ï¸ Ir Ã s Compras</button></a
        >
      </div>
      {% endif %}
    </div>
    <script>
      const TOTAL_COMPRA = {{ total|tojson }};
    </script>
    <script src="{{ url_for('static', filename='js/carrinho.js') }}"></script>
  </body>
</html>
