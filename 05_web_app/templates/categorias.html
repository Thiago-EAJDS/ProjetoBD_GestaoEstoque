<!DOCTYPE html>
<html>
<head>
<title>Categorias</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/categorias.css') }}">
</head>
<body>
<div class="navbar">
<h1>ğŸ—‚ï¸ Categorias</h1>
<div class="nav-actions">
<button class="btn-add" onclick="abrirModalAdicionar()">â• Adicionar Categoria</button>
<a href="/gerente" class="btn-back">â† Voltar</a>
</div>
</div>

<div class="container">
<table>
<thead>
<tr>
<th>ID</th>
<th>Nome</th>
<th>DescriÃ§Ã£o</th>
<th>Total de Produtos</th>
<th>AÃ§Ãµes</th>
</tr>
</thead>
<tbody>
{% for cat in categorias %}
<tr>
<td>{{ cat.id_categoria }}</td>
<td>{{ cat.nome_categoria }}</td>
<td>{{ cat.descricao or '-' }}</td>
<td>{{ cat.total_produtos }}</td>
<td>
<button class="btn-delete" onclick="deletarCategoria({{ cat.id_categoria }}, '{{ cat.nome_categoria }}', {{ cat.total_produtos }})">ğŸ—‘ï¸ Excluir</button>
</td>
</tr>
{% endfor %}
</tbody>
</table>
</div>

<!-- Modal Adicionar -->
<div id="modalAdicionar" class="modal">
<div class="modal-content">
<h2>Nova Categoria</h2>
<form onsubmit="adicionarCategoria(event)">
<label>Nome:</label>
<input type="text" name="nome" required>
<label>DescriÃ§Ã£o:</label>
<textarea name="descricao" rows="3"></textarea>
<div class="modal-buttons">
<button type="submit" class="btn-confirm">Salvar</button>
<button type="button" class="btn-cancel" onclick="fecharModal()">Cancelar</button>
</div>
</form>
</div>
</div>

<script src="{{ url_for('static', filename='js/categorias.js') }}"></script>
</body>
</html>